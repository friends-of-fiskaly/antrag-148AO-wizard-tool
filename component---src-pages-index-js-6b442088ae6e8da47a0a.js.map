{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./src/components/Form.js","webpack:///./src/pages/index.js","webpack:///./src/components/Utils.js"],"names":["_assertThisInitialized","self","ReferenceError","Antrag148AO","state","0","labelValue","defaultValue","inputType","1","2","3","4","5","6","7","8","handleChange","bind","handleSubmit","getDefaultMailBody","getPossibleFinanzamtValues","event","this","setState","target","name","value","generateForm","fields","Object","keys","map","key","id","type","onChange","required","push","onSubmit","preventDefault","link","config","mailReceiverOfForm148","mailSubject","window","open","alert","zuständigesFinanzamt","getCurrentDate","steuerpflichtiger","steuerNummer","mailAnrede","fristAblauf","kassenDienstleister","verfügbarkeitsDatumKasse","integrationsDatum","render","React","Component","IndexPage","Layout","className","url","alt","align","module","exports","Date","now","toISOString","slice"],"mappings":"uIAAe,SAASA,EAAuBC,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,E,iDCoJME,E,YApJX,aAAe,IAAD,SACV,sBACKC,MAAQ,CACTC,EAAG,CACCC,WAAY,eACZC,aAAc,KACdC,UAAW,QAEfC,EAAG,CACCH,WAAY,mBACZC,aAAc,KACdC,UAAW,QAEfE,EAAG,CACCJ,WAAY,iBACZC,aAAc,QACdC,UAAW,QAEfG,EAAG,CACCL,WAAY,0BACZC,aAAc,KACdC,UAAW,QAEfI,EAAG,CACCN,WAAY,iBACZC,aAAc,KACdC,UAAW,QAEfK,EAAG,CACCP,WAAY,mBACZC,aAAc,KACdC,UAAW,QAEfM,EAAG,CACCR,WAAY,+BACZC,aAAc,aACdC,UAAW,QAEfO,EAAG,CACCT,WAAY,mDACZC,aAAc,aACdC,UAAW,QAEfQ,EAAG,CACCV,WAAY,kCACZC,aAAc,GACdC,UAAW,SAGnB,EAAKS,aAAe,EAAKA,aAAaC,KAAlB,MACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,MACpB,EAAKE,mBAAqB,EAAKA,mBAAmBF,KAAxB,MAC1B,EAAKG,2BAA6B,EAAKA,2BAA2BH,KAAhC,MApDxB,E,4CAuDdD,aAAA,SAAaK,GAAQ,IAAD,EAChBC,KAAKC,WAAL,MAAgBF,EAAMG,OAAOC,MAAOJ,EAAMG,OAAOE,MAAjD,K,EAGJN,2BAAA,WACI,MAAO,CAAC,SAAU,UAAW,Y,EAGjCO,aAAA,WAAgB,IAAD,OACLC,EAASC,OAAOC,KAAKR,KAAKnB,OAAO4B,KAAI,SAAAC,GACvC,OAAY,IAARA,EACO,kCACH,+BAAQ,EAAK7B,MAAM6B,GAAK3B,YACxB,gCACK,EAAKe,8BAEV,6BAID,8BAAUY,IAAKA,GAClB,+BAAQ,EAAK7B,MAAM6B,GAAK3B,YACxB,2BACA4B,GAAG,aACHC,KAAM,EAAK/B,MAAM6B,GAAKzB,UACtBkB,KAAMO,EACNG,SAAU,EAAKnB,aACfU,MAAO,EAAKvB,MAAM6B,GAAK1B,aACvB8B,UAAQ,IAER,gCAQR,OALAR,EAAOS,KACH,8BAAUL,IAAI,eAAeC,GAAG,gBAC5B,2BAAOC,KAAK,SAASR,MAAM,eAG5B,0BAAMY,SAAUhB,KAAKJ,aAAce,GAAG,WAAWL,I,EAG5DV,aAAA,SAAaG,GAETA,EAAMkB,iBAEN,IAAMC,EAAI,UAAaC,IAAOC,sBAApB,YAAqDD,IAAOE,YAA5D,SAAgFrB,KAAKH,qBAG/F,IACIyB,OAAOC,KAAKL,GACd,SACEM,MALe,iC,EAUvB3B,mBAAA,WAuBI,MAtBU,iBACJG,KAAKnB,MAAM4C,qBADP,0CAGDC,2BAHC,0BAIF1B,KAAKnB,MAAM8C,kBAJT,mCAKM3B,KAAKnB,MAAM+C,aALjB,6LAURT,IAAOU,WAVC,2NAW8L7B,KAAKnB,MAAMiD,YAXzM,scAY+J9B,KAAKnB,MAAMkD,oBAZ1K,sBAYmN/B,KAAKnB,MAAMkD,oBAZ9N,oBAYqQ/B,KAAKnB,MAAMmD,yBAZhR,0GAYiZhC,KAAKnB,MAAMoD,kBAAoBjC,KAAKnB,MAAMoD,kBAAmBjC,KAAKnB,MAAMmD,0BAZzd,svCAaudhC,KAAKnB,MAAMiD,YAble,q+C,EAyBdI,OAAA,WACI,OACI,6BACI,wBAAIvB,GAAG,cAAP,4CACCX,KAAKK,iB,GA9II8B,IAAMC,WC2BjBC,UAvBG,kBAChB,kBAACC,EAAA,EAAD,KACE,6BAAS3B,GAAG,UACV,yBAAK4B,UAAU,SACb,yBAAKA,UAAU,QACb,yBAAKC,IAAI,oCAAoCC,IAAI,qBAOvD,6BAAS9B,GAAG,WAEV,6BAASA,GAAG,OACV,uBAAG+B,MAAM,UAAT,gDACA,kBAAC,EAAD,W,qBCnBRC,EAAOC,QAAU,CACb,eANJ,WAEI,OADa,IAAIC,KAAKA,KAAKC,OAAOC,cACtBC,MAAM,EAAG","file":"component---src-pages-index-js-6b442088ae6e8da47a0a.js","sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import React from 'react';\nimport config from '../../config';\nimport { getCurrentDate } from './Utils.js';\n\nclass Antrag148AO extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            0: {\n                labelValue: \"Firmenname: \", // name of the company\n                defaultValue: null, \n                inputType: \"text\"\n            },\n            1: {\n                labelValue: \"Vor und Zuname: \", // first and last name of customer\n                defaultValue: null, \n                inputType: \"text\"\n            },\n            2: {\n                labelValue: \"Postleitzahl: \",  // postal code -> 5 digits in germany\n                defaultValue: \"11190\", \n                inputType: \"text\"\n            },\n            3: {\n                labelValue: \"Zuständiges Finanzamt: \", // finanzamt responsible for customer \n                defaultValue: null, \n                inputType: \"text\"\n            },\n            4: {\n                labelValue: \"Steuernummer: \", \n                defaultValue: null, \n                inputType: \"text\"\n            },\n            5: {\n                labelValue: \"Kassenanbieter: \", // provider of clients, potentially the customer itself\n                defaultValue: null, \n                inputType: \"text\"\n            },\n            6: {\n                labelValue: \"Verlängerung der Frist bis: \",  // date until v1 of fiskaly cloud TSE should still be usable\n                defaultValue: \"31.12.2021\", \n                inputType: \"date\"\n            },\n            7: {\n                labelValue: \"fiskaly Cloud TSE verfügbar beim Anbieter seit: \",  // date of availability of fiskaly cloud tse v1\n                defaultValue: \"01.01.2020\", \n                inputType: \"date\"\n            },\n            8: {\n                labelValue: \"Kassenanbieter integriert seit:\", // date since integration and usage of fiskaly cloud tse v1\n                defaultValue: \"\", \n                inputType: \"date\"\n            }\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.getDefaultMailBody = this.getDefaultMailBody.bind(this);\n        this.getPossibleFinanzamtValues = this.getPossibleFinanzamtValues.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({[event.target.name]: event.target.value});\n    }\n\n    getPossibleFinanzamtValues() {\n        return [\"Berlin\", \"München\", \"Hamburg\"];  // maybe store in object with postal code, so we can set default values\n    }\n    \n    generateForm() {\n        const fields = Object.keys(this.state).map(key => {\n            if (key === 3) { // finanzamt\n                return <fieldset>\n                    <label>{this.state[key].labelValue}</label>\n                    <select>\n                        {this.getPossibleFinanzamtValues()}\n                    </select>\n                    <p></p>\n                </fieldset>;\n            }\n\n            return <fieldset key={key}>\n                <label>{this.state[key].labelValue}</label>\n                <input\n                id=\"inputField\"\n                type={this.state[key].inputType}\n                name={key}\n                onChange={this.handleChange}\n                value={this.state[key].defaultValue}\n                required\n                />\n                <p></p>\n            </fieldset>;\n        });\n        fields.push(\n            <fieldset key=\"submitButton\" id=\"submitButton\">\n                <input type=\"submit\" value=\"Absenden\"/>\n            </fieldset>\n        )\n        return <form onSubmit={this.handleSubmit} id=\"form148\">{fields}</form>;\n    }\n\n    handleSubmit(event) {\n        // open mail program of user and prepare mail sent to finanzamt with default text and selected values\n        event.preventDefault();\n\n        const link = `mailto:${config.mailReceiverOfForm148}?subject=${config.mailSubject}&body=${this.getDefaultMailBody()}`;\n        const errMessage = 'Could not open mail program';\n\n        try {\n            window.open(link);  // TODO: Mail program not opening on windows --> provide documents as download\n        } catch {\n            alert(errMessage);\n        }\n        \n    }\n\n    getDefaultMailBody() {\n        const body = `\n        An: ${this.state.zuständigesFinanzamt}%0D%0A\n        %0D%0A\n        Datum: ${getCurrentDate()} %0D%0A\n        Abs.: ${this.state.steuerpflichtiger}  %0D%0A\n        Steuernummer: ${this.state.steuerNummer} %0D%0A\n        %0D%0A\n        %0D%0A\n        Betreff: Antrag nach § 148 AO – Verlängerung der Frist zur vollständigen Implementierung einer Cloud-TSE %0D%0A\n        %0D%0A\n        ${config.mailAnrede}, %0D%0A\n        hiermit beantragen wir die Verlängerung der durch die Nichtbeanstandungsregelung eingeräumten Frist über den 31. März 2021 hinaus gemäß § 148 AO wegen Vorliegens unbilliger sachlichen Härte bis zum ${this.state.fristAblauf} . Jedoch wollen wir klarstellen, dass es sich im folgenden Antrag um keine allgemeine Fristverlängerung handelt, sondern um einen Übergangszeitraum in welchem eine TSE in Evaluierung beim Bundesamt für Sicherheit in der Informationstechnik (BSI), zum Einsatz kommt.  %0D%0A\n        Wir beabsichtigen zur Einhaltung der Anforderungen des § 146a AO die Nutzung der cloudbasierten TSE der fiskaly Germany GmbH welche durch unseren Kassen-Dienstleister ${this.state.kassenDienstleister} integriert wurde. ${this.state.kassenDienstleister} bietet seit dem ${this.state.verfügbarkeitsDatumKasse} die fiskaly Cloud-TSE an und wir haben diese Vorabversion einer voll zertifizierten TSE bereits seit ${this.state.integrationsDatum ? this.state.integrationsDatum: this.state.verfügbarkeitsDatumKasse} im Einsatz.  Aufgrund verschiedener von uns nicht zu verantwortender Umstände hat sich die finale Zertifizierung der fiskaly Cloud-TSE verzögert. Eine detaillierte Stellungnahme dazu finden Sie im Anhang. Dementsprechend ist bereits jetzt erkennbar, dass die Inbetriebnahme der final zertifizierten Cloud-TSE nicht innerhalb der Frist bis zum 31. März 2021 abgeschlossen werden kann. Wir planen mit der aktuellen zur Zertifizierung beim BSI eingereichten Version der fiskaly Cloud-TSE zu starten. Dieses Vorgehen ist auch mit der Fachabteilung des Bundesministerium für Finanzen, Referat IVA 4 Steuern, abgestimmt. Konkret heißt das, dass wir bereits die TSE im Einsatz haben und damit Geschäftsfälle manipulationssicher dokumentieren und Signaturen auf Belege drucken.  %0D%0A\n        Für das oben beschriebene Vorgehen ersuchen wir um eine Erleichterung nach § 148 AO um auf den voll zertifizierten Betrieb bis zum oben genannten Datum aufzurüsten. In diesem Übergangszeitraum wird die aktuelle Version 1 der TSE von fiskaly zum Einsatz kommen. Dementsprechend wollen wir nochmal betonen, dass wir um keine allgemeine Fristverlängerung ansuchen. Für das Upgrade auf den voll zertifizierten Betrieb (fiskaly Cloud TSE Version 2) sehen wir den Zeithorizont bis zum ${this.state.fristAblauf} als machbar.  %0D%0A\n        Maßgebliche Ursache für den Übergangszeitraum sind - neben der noch ausstehenden Zertifizierungen - insbesondere die erhöhten Anforderungen an die Umsetzung im Bereich der zertifizierten Anwenderumgebung beim Steuerpflichtigen. Darüber hinaus sind die späten Änderungen der technischen Spezifikationen welche durch das BSI verfasst und danach erst mit Ende November letzten Jahres an die Cloud-TSE Hersteller kommuniziert wurden. Diese späten Änderungen hatten gravierenden Einfluss auf die Zertifizierungsverfahren aller Cloud-TSE Anbieter. Dementsprechend ist es in unserer Situation auch nicht mehr möglich die vollständig zertifizierte fiskaly Cloud-TSE bis 31.3.2021 in Betrieb zu nehmen.  %0D%0A\n        Zum aktuellen Zeitpunkt erlaubt uns die Nutzung von “fiskaly SIGN v1” die Signatur von Kassenbelegen und dadurch bereits eine erste Umsetzung von § 146a AO. Dadurch weisen wir auch gerne die Priorität der KassenSichV in unserem Unternehmen nach, wir haben uns bereits sehr früh und ausführlich mit dem Thema KassenSichV beschäftigt und notwendige Anpassungen und Investitionen getätigt. Wir, als auch unser Hersteller, verweisen auf die unüblich spät eingebrachten Anforderungen im laufenden Zertifizierungsverfahren, welche uns zu diesem Antrag zwingen. %0D%0A\n        %0D%0A\n        Anlagen:  %0D%0A\n        Allgemeine Stellungnahme Verzögerung Zertifizierung %0D%0A\n        Statement Kassenhersteller und Integrator %0D%0A\n        6er Schreiben'\n        `;\n        return body; \n    }\n\n    render() {\n        return(\n            <div>\n                <h1 id=\"formHeader\">Standardformular für Antrag nach $148 AO</h1>\n                {this.generateForm()}\n                {/* <button type=\"submit\" onClick={this.handleSubmit} id=\"submitButton\">Absenden</button> */}\n            </div>\n        );\n    }\n}\n\nexport default Antrag148AO;","import React from 'react';\n\nimport Layout from '../components/Layout';\n\nimport Antrag148AO from '../components/Form';\n\nimport config from '../../config';\n\nconst IndexPage = () => (\n  <Layout>\n    <section id=\"banner\">\n      <div className=\"inner\">\n        <div className=\"logo\">\n          <img url=\"../assets/images/fiskaly-logo.png\" alt=\"fiskaly-logo \"/>\n        </div>\n        {/* <h2>{config.heading}</h2>\n        <p>{config.subHeading}</p> */}\n      </div>\n    </section>\n\n    <section id=\"wrapper\">\n\n      <section id=\"two\">\n        <p align=\"center\">Some explanation about the page and the form</p>\n        <Antrag148AO />\n      </section>\n\n    </section>\n  </Layout>\n);\n\nexport default IndexPage;\n","function getCurrentDate() {\n    const date = new Date(Date.now()).toISOString();\n    return date.slice(0, 10);\n}\n\nmodule.exports = {\n    \"getCurrentDate\": getCurrentDate\n};"],"sourceRoot":""}